// Generated by CoffeeScript 1.8.0
(function() {
  'use strict';
  angular.module('projectApp').controller('accountSetupCtrl', function($scope, $http, Auth, $location, $window) {
    var toUTCDate;
    $scope.getCurrentUser = Auth.getCurrentUser;
    toUTCDate = function(date) {
      var _utc;
      _utc = new Date(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours() + 1, date.getMinutes(), date.getSeconds());
      return _utc;
    };
    return $scope.saveExtraData = function(form) {
      return $http.post('/api/extradata', {
        address: {
          street: $scope.user.address.street,
          number: $scope.user.address.number,
          zipcode: $scope.user.address.zipcode,
          city: $scope.user.address.city,
          country: $scope.user.address.country
        },
        birthday: toUTCDate($scope.user.birthday),
        numberOfResidents: $scope.user.numberOfResidents,
        meterType: $scope.user.meterType,
        insulation: $scope.user.insulation,
        typeOfHeating: $scope.user.typeOfHeating,
        sizeOfBuilding: $scope.user.sizeOfBuilding,
        accountId: Auth.getCurrentUser()._id,
        isOnline: true
      });
    };
  });

}).call(this);

//# sourceMappingURL=accountsetup.controller.js.map
